Задача:

+ С помощью паттерна абстрактная фабрика создать две фабрики - CocaCola и PepsiCola. Обе фабрики производят бутылки и воду. После чего воду нужно поместить в бутылку.
+ На выходе должен получится готовый продукт семейства CocaCola - вода в бутылке.
- Добавить в оба семейства Pepsi и CocaCola обьекты - крышку, наклейку.
- Добавить в классы воды Pepsi и CocaCola создание рецептуры воды и загазировать воду СО2.



Решение:

+ 1. Создаем два абстрактных класса водa - CocaCola и Pepsi.
+ 2. Создаем два абстрактных класса бутылки - CocaCola и Pepsi. В классе создаем метод,который в абстрактный класс бутылки принимает абстрактный класс воду.
+ 3. Создаем абстрактный класс фабрики, в классе два фабричных метода, которые создают абстрактный класс воды и бутылки.
+ 4. Создаем конкретный класс клиент, два поля типа абстрактных классов продуктов - вода и бутылка и конструктор, который принимает аргумент типа абстрактного класса фабрика.
+ 5. Создаем конкретные классы воды и бутылок - CocaCola и Pepsi.
+ 6. В классе Program создаем новый клиент и в конструкторе создаем новый экземпляр фабрики.
+ 7. Для создания продуктов - крышки и наклейки, нужно создать абстрактную фабрику для каждого из продуктов. Создать два конкретных класса для каждой из воды, которые наследуются от абстрактных фабрик продуктов.
+ 8. Добавить в абстрактную фабрику два фабричных метода, которые вернут нам крышку и наклейку.
+ 9. Добавит в Client поля типа крышки и наклейки. В методе Run бутылка принимает после того, как налива воды - крышку, после чего наклейку.
-10. Создать два метода в классах CocaColaWater и PepsiCola Water для приготовления воды и газировки.
